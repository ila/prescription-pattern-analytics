

% Migliore grafica per i theorem/definition/properties/exercises/examples
\newtheoremstyle{break}% name
{2 \baselineskip}%         Space above, empty = `usual value'
{}%         Space below
{} %{\itshape}% Body font. I prefer empty body font
{\parindent}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{.}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{}%         Thm head spec

\theoremstyle{break}

\newtheorem{thm}{Teorema}
\newcounter{def}
\newtheorem{definition}[def]{Definizione}
\newcounter{prop}
\newtheorem{property}[prop]{ProprietÃ }
\newcounter{exer}
\newtheorem{exercise}[exer]{Esercizio}
\newcounter{exmp}
\newtheorem{example}[exmp]{Esempio}

% TikzStyles
\tikzstyle{block} = [rectangle, draw, text centered]
\tikzstyle{empty_block} = [rectangle, text centered]
\tikzstyle{line} = [draw, -latex']
% /End TikzStyles

\definecolor{azzurro}{cmyk}{1,0.33,0,0.13}
\definecolor{arancione}{cmyk}{0,0.41,1,0}
\definecolor{verde}{cmyk}{0.44,0,0.38,0.31}
\definecolor{viola}{rgb}{0.58,0,0.82}
\definecolor{bianco}{rgb}{0.95, 0.95, 0.92}
% C style
\lstdefinestyle{CStyle}{
    backgroundcolor=\color{bianco},   
    commentstyle=\color{verde},
    keywordstyle=\color{viola},
    numberstyle=\tiny\color{arancione},
    stringstyle=\color{azzurro},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}
\lstset{
  basicstyle=\ttfamily,
  columns=fullflexible,
  frame=single,
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
}
% maximum matrix environment set to 20 instead of 10
\setcounter{MaxMatrixCols}{20}

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\R}{\mathbb{R}}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

% Text under-above matrix https://tex.stackexchange.com/a/78467
\newenvironment{spmatrix}[1]
  {\def\mysubscript{#1}\mathop\bgroup\begin{pmatrix}}
  {\end{pmatrix}\egroup_{\textstyle\mathstrut\mysubscript}}

\newenvironment{sbmatrix}[1]
  {\def\mysubscript{#1}\mathop\bgroup\begin{bmatrix}}
  {\end{bmatrix}\egroup_{\textstyle\mathstrut\mysubscript}}


% Euro workaround - https://tex.stackexchange.com/questions/110972/eurosym-seems-to-not-be-working
\DeclareRobustCommand{\officialeuro}{%
  \ifmmode\expandafter\text\fi
  {\fontencoding{U}\fontfamily{eurosym}\selectfont e}}

% forest
\forestset{
  every leaf node/.style={
    if n children=0{#1}{}
  },
  every tree node/.style={
    if n children=0{}{#1}
  },
  edgelabel/.style n args={2}{
    edge label={node[midway,#1]{\scriptsize#2}}
  },
  nodevalue/.style={
    label=left:{\textcolor{red}{#1}}
  }
}
\forestset{
  suffix tree/.style={
    for tree={
      edge={->},
      every tree node={
        circle, draw, minimum size=1.5em, s sep=1cm,
        s sep+=1em,
        l sep+=1em
      },
      every leaf node={
        rectangle, draw, 
        minimum size=1.5em
      }
    }
  }
}
\forestset{
  highlight ancestors/.style={
    before typesetting nodes={
      for current and ancestors=highlight
    }
  },
  highlight/.style={
    draw=darkgray,
    edge+=red
  }
}